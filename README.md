# i3 WM 官方用户指南

作者: Michael Stapelberg

中文译者: 法宗

michael@i3wm.org

源地址: https://i3wm.org/docs/userguide.html

这里提供我的配置文件: https://github.com/fz-wu/.config/blob/master/i3/config

如有问题,欢迎指正.

##  1. 默认键位绑定

对于阅读障碍患者,这里有一张默认键位绑定概览.

使用$mod(Alt):

![mod](https://i3wm.org/docs/keyboard-layer1.png)

使用Shift+$mod:

![Shift+mod](https://i3wm.org/docs/keyboard-layer2.png)



红键是修饰键(这里显示的是默认键位),蓝键是你的homerow.

> 注: 需要按红建之后, 按下蓝键触发相应功能.
>
> homerow不知怎么翻译

注意: 当没有配置i3的配置文件时,i3会为你创建一个.其中无论你是用什么键盘布局,键的位置都会与你在上图中看到的位置匹配.如果你倾向于使用配置文件,那么请拒绝使用i3提供的配置,并在`/etc`目录创建`i3/config`文件.

> 注: 这里有点不清楚.第一使用i3会让你选择$mod键,默认使用Alt,mac用户建议使用command键.
>
> 你可以在`/etc/` 或`~/` 或 `~/.config`创建配置文件.优先级递增.



## 2. 使用 i3

在本指南中,关键字`$mod`将用于引用已配置的修饰符.`Alt`键(Mod4)是默认的修饰键.`Win`键是更受欢迎.因为可以避免与其他的软件快捷键冲突.

> 注: 译者建议选择`Alt`键,使用`Win`键需要移动手掌,这很不方便.当然还有一种选择,你可以将两个键的绑定互换,然后使用`Win`键.

### 2.1 打开和移动终端

一个非常基础的操作是打开新的终端.默认打开终端的键位是`$mod+Enter`在默认的配置中是`Alt+Enter`.按下`$mod+Enter`后将打开一个终端.他将覆盖整个屏幕.

<img src="https://i3wm.org/docs/single_terminal.png" alt="new terminal"  />

如果你现在在打开一个终端,它将会出现在第一个终端的后面,把屏幕一分为二.根据你的显示器i3将会选择选择水平(横屏)还是垂直(竖屏)放置它们.

![](https://i3wm.org/docs/two_terminals.png)

在两个终端中移动焦点,可以直接使用方向键(像vi中那样).但是在i3中,这些键被使用了(在vi中，为与大多数键盘布局兼容，键被向左移动了一个).因此`$mod+j`是向左,`$mod+k`是向下,`$mod+l`是向上,`$mod+;`是向右.因此,要在两个终端之间进行切换,可以使用`$mod+k`或`$mod+l`.当然,你也可以使用方向键.

> 注: 为了使操作和vim一致,建议修改配置文件

这时,你的工作区(workspace)被分成了两个终端.默认是水平排列的.每一个窗口都可以重新分成水平和垂直,和整个工作区一样.这个术语(工作区)是即指实际包含X11窗口(如终端或浏览器)容器的“窗口”,或包含一个到多个窗口容器的“拆分容器”.

待完成: 树的图片

在你打开新程序之前,可以按`$mod+v`来选择垂直分割,按`$mod+h`选择水平分割.

### 2.2 改变容器布局

一个分割容器是下面三个分割布局之一:

- 平铺式默认)
- 栈式
- 标签式

分别使用`$mod+e` `$mod+s` `$mod+w`来选择它们.下面是效果:

![](https://i3wm.org/docs/modes.png)

### 2.3 切换全屏

进入和退出全屏都使用 `$mod+f`.

在i3中还有一个全局全屏模式,其中客户端将跨越所有可用的输出(命令是fullscreen toggle global).

### 2.4 操作其它程序

除了从终端打开程序外,您还可以使用便捷的dmenu，默认情况下按$mod+d打开dmenu.只需键入要打开的程序的名称(或其中的一部分).相应的程序必须在您的$PATH中dmenu才能正常工作.


另外,如果您经常打开应用程序,您可以创建一个键绑定来直接启动应用程序.有关详细信息，请参阅[配置]一节.

> 本身的dmenu并不好用,建议使用rofi.配置在我的配置文件中.

### 2.5 关闭窗口

大多数程序都提供了关闭机制(比如`ctrl+w`).如果没有的话,你可以用`$mod+Shift+q`关闭程序.对于提供了WM_DELETE协议的程序,程序将正确关闭(保存更改或做其他清理).如果没有这种协议的话,你的X server会直接杀死他的进程树.

### 2.6 使用工作区

工作区可以快速的把窗口组分类.默认情况下,你会处于第一个工作区,当前所处位置会在下方的bar中显示.切换工作区可以使用`$mod+num`,如果工作区没有打开,那么它会被打开.

通常情况下,游览器会单独放在一个工作区,通讯程序会在另一个,等等等等.当然你也可以不用这种方式.

如果你使用多屏,工作区会出现在每一块屏幕上.

### 2.7 移动窗口到其他工作区

把焦点放在这个窗口,然后使用`$mod+Shift+num`移动它.如果将去往工作区不存在,他会被创建.

### 2.8 调整大小

调整容器大小最简单的方法是使用鼠标:选中边框并将其移动到需要的大小.你还可以使用[绑定模式]来定义通过键盘调整大小的模式.要查看这方面的示例，请查看i3提供的默认配置.

### 2.9 重启 i3

要在适当的地方重新启动i3(从而在出现bug时进入一个干净的状态,或者升级到一个较新的i3版本)，可以使用`$mod+Shift+r`来重启.

### 2.10 退出 i3

要干净地退出i3而不杀死你的X server,你可以使用`$mod+Shift+e`.默认情况下，会出现一个对话框询问你是否真的想退出.

### 2.11 浮动

浮动式是相对于平铺式来说的.窗口的大小的位置将由你来决定.使用这种模式违反了平铺模式的原则,但是对于某些特殊情况非常有用,比如“另存为”对话框窗口或工具栏窗口(GIMP或类似的程序).这些窗口通常设置适当的提示，并在默认情况下以浮动模式打开.

可以使用`$mod+Shift+Space`切换到浮动模式.左键按住窗口的标签来拖动它.通过选中边框并移动它们,你可以调整窗口的大小.你也可以使用[浮动修饰符](floating modifier)来实现.另一种使用鼠标调整浮动窗口大小的方法是右键单击标题栏并拖动.

浮动窗口将处于平铺窗口的上面.

## 3. 树

## 4. 配置 i3

## 5. 配置 i3bar

## 6. 命令列表

## 7. 多屏

## 8. i3和软件世界其他事仪

### 8.1 显示状态栏

### 8.2

### 8.3 高分辨率(aka HIDPI)

关于在各种各样的Linux 桌面上如何缩放的细节戡夷看这个链接: https://wiki.archlinux.org/index.php/HiDPI 

i3将从Xft.dpi中读取所需的DPI.属性默认为96 DPI,因此要实现200%的缩放,需要设置Xft.dpi: 192dpi的`~ /.xresources`.

如果你使i3的老用户,并且才得到一个新的显示器,只需要两步:

- 在i3的配置中使用一个可以缩放的字体(一开始是`pango`)
- 选择一个可以缩放的终端(比如gnome-terminal),知道你把终端的字体大小调到合适.